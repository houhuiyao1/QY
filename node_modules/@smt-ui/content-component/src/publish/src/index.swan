<view s-if="showPublish && _show" class="wrapper {{theme}}">
    <form bindsubmit="onSubmit">
        <view class="header-area {{focusingClass}} {{contentClass}}">
            <view class="header-shell">
                <input name="title" placeholder="{{titlePlaceholder}}" placeholder-class="publish__placeholder" class="title-input" maxlength="{{titleLimit}}" bindinput="onTitleChange" auto-focus="true" value="{=title=}" bindfocus="titleFocus" bindblur="titleBlur"/>
                <view class="clear-title" bindtap="clearTitle"></view>
            </view>
        </view>
        <view class="content-area">
            <textarea name="content" placeholder="{{contentPlaceholder}}" placeholder-class="publish__placeholder" class="content-input" bindinput="onContentChange" value="{=content=}" maxlength="-1" auto-height="{{contentAutoHeight}}" style="height: {{contentHeight}};" show-confirm-bar="false"></textarea>
            <view
                class="content-tips"
                s-if="contentLimit > 0 && content.length > (contentLimit - tipsEdge)"
            >
                <text s-if="content.length <= contentLimit" class="left-tips">
                    剩{{contentLimit - content.length}}字
                </text>
                <text s-else>
                    超{{(content.length - contentLimit) > 999 ? '999+' : content.length - contentLimit}}字
                </text>
            </view>
        </view>
        <view class="picture-area">
            <view class="picture" s-for="item, index in pictureList">
                <view class="close" bindtap="delPicture" data-index="{{index}}"></view>
                <image src="{{item}}" bindtap="viewPicture" data-index="{{index}}"></image>
            </view>
            <view s-if="pictureList.length < pictureLimit" class="add-picture-big picture" bindtap="addPicture">
            </view>
        </view>
        <view s-if="{{showPictureTips}}" class="tips-area">
            <text>支持最多{{pictureLimit}}张图片，单张体积{{pictureSizeLimit/1000000}}M以下</text>
        </view>
        <view class="bottom-area">
            <view class="bottom-shell">
                <view class="addon-area">
                    <view class="add-picture" bindtap="addPicture"></view>
                </view>
                <button class="button {{disableStatus}}" form-type="submit" hover-class="button-hover">
                    {{theme !== '' ? '提交' : '发布'}}
                </button>
            </view>
        </view>
    </form>
    <view s-if="showModal" class="pop">
        <view class="mask"></view>
        <view class="tip-modal">
            <view class="wrap-cont">
                <text class="title">发布成功</text>
                <text class="tip-cont">消息提示可到“我的-消息中心”查看</text>
            </view>
            <view class="tip-button" bindtap="closeModal">我知道了</view>
        </view>
    </view>
</view>
